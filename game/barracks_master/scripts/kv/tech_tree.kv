// Tech Tree File
// Defines the requirements for being able to buy certain building/unit/upgrade

// About Building Creation & Builder Abilities
	// These abilities will show on the builder at all times, but as a disabled version that states the requirements if some of them aren't met.
	// Every time a building is destroyed the table for the player gets updated, and a script is called to verify every requirement on builders & buildings
	// Requirements aren't recursive, meaning if A is req for B and B is a req for C, destroying A won't make you unable to build C as long as B is up.

// About Technology Upgrades - Building abilities - Research
	// Destroying the building doesn't remove the upgrade, these are permanent until the game ends
	// Having the previous upgrade is not a requirement, as lvl 2-3 tech will only appear on the building whenever the first one is acquired
	// Tech Upgrade abilities are hidden once they are researched (and should be hidden on every building that has access to such research)
	// Each time a unit spawns it should check for its upgrades. Each time an upgrade is finished, it should go through all the units and apply it.	

"tech_tree"
{
	//-----------------------------------------------------------------------------------------------------
	//Barracks Master
	//-----------------------------------------------------------------------------------------------------

	//Build
	//-----------------------------------
	"build_bm_siege_barracks"
	{
		"bm_melee_barracks" 	"1"
		"bm_ranged_barracks" 	"1"
	}

	"build_bm_ancient_barracks"
	{
		"bm_siege_barracks" 	"1"
	}	

	"build_bm_tech_lab"
	{
		"bm_lumber_yard" 		"1"
	}

	"build_bm_aviation_sanctuary"
	{
		"bm_lumber_yard" 		"1"
	}

	"build_bm_heroes"
	{
		"bm_tech_lab" 		"1"
	}

	"build_bm_purifier"
	{
		"bm_tech_lab" 		"1"
	}

	"build_bm_library"
	{
		"bm_tech_lab" 		"1"
	}

	"build_bm_unpromising"
	{
		"bm_library" 			"1"
	}

	"build_bm_luminous"
	{
		"bm_library" 			"1"
	}

	//Research
	//-----------------------------------

	"bm_skeleton_damage"
	{
		"research"						"1"
		"research_bm_skeleton_damage"	"1"
	}

	"bm_melee_armor"
	{
		"research"					"1"
		"research_bm_melee_armor"	"1"
	}

	"bm_melee_damage"
	{
		"research"					"1"
		"research_bm_melee_damage"	"1"
	}

	"bm_melee_hp"
	{
		"research"					"1"
		"research_bm_melee_hp"		"1"
	}

	"bm_ranged_armor"
	{
		"research"					"1"
		"research_bm_ranged_armor"	"1"
	}

	"bm_ranged_damage"
	{
		"research"					"1"
		"research_bm_ranged_damage"	"1"
	}

	"bm_ranged_hp"
	{
		"research"					"1"
		"research_bm_melee_hp"		"1"
	}


	"special_melee"
	{
		"research"					"1"
		"research_special_melee"	"1"
	}

	"special_ranged"
	{
		"research"					"1"
		"research_special_ranged"	"1"
	}

	"special_siege"
	{
		"research"					"1"
		"research_special_siege"	"1"
	}

	"special_air"
	{
		"research"					"1"
		"research_special_air"		"1"
	}

	//Research Items
	//-----------------------------------

	"item_hawk"
	{
		"research"					"1"
		"research_bm_scout_hawk"	"1"
	}

	"item_techies"
	{
		"research"					"1"
		"research_bm_scout_techies"	"1"
	}

	//Unlock Research
	//-----------------------------------
	"research_bm_melee_hp"
	{
		"bm_tech_lab"			"1"
	}

	"research_bm_ranged_hp"
	{
		"bm_tech_lab"			"1"
	}

	"research_special_melee"
	{
		"bm_library"			"1"
	}

	"research_special_ranged"
	{
		"bm_library"			"1"
	}

	"research_special_siege"
	{
		"bm_library"			"1"
	}

	"research_special_air"
	{
		"bm_library"			"1"
	}



	//-----------------------------------------------------------------------------------------------------
	//Non Barracks Master
	//-----------------------------------------------------------------------------------------------------


	// Builder Abilities (prefix 'build_')
	//--------------------------------------------------------------

	"build_tech_center"
	{
		"tower"				"1"
	}

	"build_dragon_tower"
	{
		"tech_center"	"1"
		"city_center_tier2"	"1"
	}


	// Building Upgrades (prefix 'train_')
	//--------------------------------------------------------------
	
	"train_city_center_tier2"
	{
		"tech_center"	"1"
	}

	// Research Abilities (prefix 'research_')
	//--------------------------------------------------------------

	"research_ultimate_ability"
	{
		"city_center_tier2"	"1"
	}
	
	"ultimate_ability"
	{
		"research"	"1"
		"research_ultimate_ability"	"1"
	}


	// Mixed: An upgrade that requires a research
	//--------------------------------------------------------------

	// "research_dark_tower" (no requirement, on the Research Center)
	"train_dark_tower"
	{
		"research"				"1"
		"research_dark_tower"	"1"
	}
}